<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="description" content="Example blog">


<meta property="og:site_name" content="Sam Callis" />
<meta property="og:locale" content="en-US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/projects/bmi525_finalproj/" />
<meta property="og:title" content="Indoor Air Pollution: Final Project" />
<meta property="twitter:title" content="Indoor Air Pollution: Final Project">

    <meta property="og:image" content="/img/banner.png">
    <meta property="twitter:card" content="summary">
    <meta property="twitter:image" content="/img/banner.png">

<meta property="og:description" content="">
<meta property="twitter:description" content="">

<title>


     Sam Callis - Indoor Air Pollution: Final Project 

</title>
<link rel="canonical" href="/projects/bmi525_finalproj/">


<style media="screen">
  @font-face {
  font-family: 'Nexa Bold';
  src: url('/fonts/Nexa Bold.otf');
}

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section, div.column {
  display: block;
}
body {
  line-height: 1;
}
ol, ul {
  list-style: none;
}
blockquote, q {
  quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}

*,
*:before,
*:after {
  box-sizing: border-box;
}
a,
a:visited,
a:focus,
a:active {
  text-decoration: none;
}
html {
  height: 100%;
  font-size: 16px;
}
body {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: column;
  -moz-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  -webkit-justify-content: flex-start;
  -moz-justify-content: flex-start;
  -ms-justify-content: flex-start;
  justify-content: flex-start;
  width: 100%;
  min-height: 100%;
  font-weight: 400;
  font-family: 'Helvetica Neue', 'Arial', sans-serif;
  color: #111111;
  line-height: 1.6;
  text-rendering: optimizeLegibility !important;
}
.icon {
  text-rendering: geometricPrecision !important;
}
section {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-justify-content: center;
  -moz-justify-content: center;
  -ms-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  width: 100%;
}
div.column {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-justify-content: center;
  -moz-justify-content: center;
  -ms-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  width: 100%;
}
.container {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  width: 100%;
}
div.header .container {
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  -webkit-justify-content: center;
  -moz-justify-content: center;
  -ms-justify-content: center;
  justify-content: center;
}
div.header .content {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: column;
  -moz-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
}
div.header .container .logo {
  
  max-width: 100px;
  
  margin-left: -2em;
}
div.header .name {
  padding-top: 20px;
  font-size: 28px;
  font-family: 'Nexa Bold', 'Helvetica Neue', 'Arial', sans-serif;
  letter-spacing: -0.005rem;
  
  text-transform: uppercase;
  
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  font-smoothing: antialiased;
  color: #333333;
}
div.header nav {
  margin-bottom: 16px;
}
div.header nav ul {
  list-style: none;
  text-align: center;
  display: -webkit-inline-flex;
  display: -moz-inline-flex;
  display: -ms-inline-flexbox;
  display: -ms-inline-flex;
  display: inline-flex;
}
div.header nav ul li {
  margin-left: 6px;
  margin-right: 6px;
}
div.header nav ul li:first-child {
  margin-left: 0;
}
div.header nav ul li:last-child {
  margin-right: 0;
}
div.header nav ul a {
  color: #555555;
  font-weight: 400;
  font-size: 14px;
  text-transform: uppercase;
  font-family: 'Helvetica Neue', 'Arial', sans-serif;
  -webkit-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -moz-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -ms-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -o-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
}
div.header nav ul a:hover {
  color: #111111;
}
div.footer .container {
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  -webkit-justify-content: center;
  -moz-justify-content: center;
  -ms-justify-content: center;
  justify-content: center;
  flex-direction: column-reverse;
  width: 100%;
  text-align: center;
}
div.footer .container a {
  font-size: 14px;
  margin-left: 6px;
  margin-right: 6px;
  opacity: 0.6;
  -webkit-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -moz-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -ms-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -o-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
}
div.footer .container a:first-child {
  margin-left: 0;
}
div.footer .container a:last-child {
  margin-right: 0;
}
div.footer .container a:hover {
  opacity: 0.8;
}
div.footer .container a .icon {
  width: 16px;
  height: 16px;
}
div.footer .container .copyright {
  flex-grow: 0.5;
  text-align: start;
}
div.footer .container .icons {
  flex-grow: 0.5;
  text-align: end;
}
div.main .container {
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  -webkit-justify-content: flex-start;
  -moz-justify-content: flex-start;
  -ms-justify-content: flex-start;
  justify-content: flex-start;
}
div.main .content {
  color: #111111;
  font-size: 16px;
}
div.main .content .title-container {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-justify-content: space-between;
  -moz-justify-content: space-between;
  -ms-justify-content: space-between;
  justify-content: space-between;
}
div.main .content .posts {
  
  
}
div.main .content .page-heading {
  font-size: 20px;
  font-weight: 700;
  font-family: 'Helvetica Neue', 'Arial', sans-serif;
  letter-spacing: -0.005rem;
  text-transform: uppercase;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  font-smoothing: antialiased;
  color: #333333;
  margin-bottom: 16px;
}
div.main .content .front-matter .page-heading {
  margin-bottom: 0;
}
div.main .content .front-matter .meta {
  font-size: 14px;
  color: #666666;
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  margin-bottom: 32px;
}
div.main .content .front-matter .date,
div.main .content .front-matter .author,
div.main .content .front-matter .tags,
div.main .content .front-matter .word-count,
div.main .content .front-matter .middot:before {
  display: none;
}
div.main .content .front-matter .middot:before {
  font-size: 6px;
  margin: 0 6px;
  vertical-align: middle;
  content: "•";
}
div.main .content .front-matter .tags ul {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: row;
  -moz-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
}
div.main .content .front-matter .tags ul li {
  -webkit-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -moz-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -ms-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -o-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
}
div.main .content .front-matter .tags ul li:hover {
  opacity: 0.7;
}
div.main .content .front-matter .tags ul li a {
  color: #666666;
}

div.main .container.f04 {
  -webkit-justify-content: center;
  -moz-justify-content: center;
  -ms-justify-content: center;
  justify-content: center;
}
div.main .container.f04 .content {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: column;
  -moz-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
}
div.main .container.f04 .content .num {
  margin: 30px 0px 30px 0;
  font-weight: 400;
  font-family: 'Helvetica Neue', 'Arial', sans-serif;
  font-size: 50px;
}
div.main .container.f04 .content .detail {
  margin-bottom: 40px;
}
div.main .container .content .groupby {
  margin-top: 1em;
  padding-left: 0.5em;
}
div.main .container .content .post-item {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  display: list-item;
  list-style: disc inside;
}
div.main .container .content .post-item .meta {
  font-size: 14px;
  color: #666666;
  display: none;
  min-width: 100px;
}
div.main .container .content .see-more {
  font-style: italic;
  float: right;
  font-size: 0.9em;
  margin-top: 2em;
  color: #313537;
}
div.main .container .content .see-more:hover {
  color: #666;
}
section {
  padding: 0 16px;
}
div.column {
  padding: 0 16px;
}
div.header {
  padding-top: 10px;
}
div.header-home {
  padding-top: 36px;
}
div.main {
  padding-top: 32px;
}
div.main .container .content .post-item .meta {
    display: block;
}
div.main .container .content .post-item {
    display: flex;
    list-style: none;
}
a {
  color: #428bca;
  -webkit-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -moz-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -ms-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -o-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
}
a:hover {
  color: #2a6496;
}
img {
  max-width: 100%;
}
div.main .content {
    width: 100%;
}
div.main .content .markdown {
  font-size: 1.1em;
  line-height: 1.75em;
  color: #313537;
  font-family: serif;
  font-weight: 300;
}
div.main .content .markdown h1,
div.main .content .markdown h2,
div.main .content .markdown h3,
div.main .content .markdown h4,
div.main .content .markdown h5,
div.main .content .markdown h6 {
  font-size: 22px;
  font-family: 'Helvetica Neue', 'Arial', sans-serif;
  letter-spacing: -0.005rem;
  font-weight: 700;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  font-smoothing: antialiased;
  color: #333333;
  text-transform: none;
  margin-top: 1.75rem;
}
div.main .content .markdown h1 {
  font-size: 1.75rem;
  margin-bottom: 2rem;
}
div.main .content .markdown h2 {
  font-size: 1.5rem;
  margin-bottom: 1.5rem;
}
div.main .content .markdown h3 {
  font-size: 1em;
  margin-bottom: 1rem;
}
div.main .content .markdown h4,
div.main .content .markdown h5,
div.main .content .markdown h6 {
  font-size: 1rem;
  margin-bottom: 1rem;
  letter-spacing: none;
}
div.main .content .markdown code,
div.main .content .markdown pre {
  font-family: 'Menlo', monospace;
  font-size: 0.98rem;
  background-color: #f7f7f7;
}
div.main .content .markdown code {
  /* enclosed by single backtick (`) */
  padding: .15em .5em;
  border-radius: 2px;
}
div.main .content .markdown pre {
  /* Hugo specific: consider using the 'highlight' shortcode */
  display: block;
  margin-top: 1rem;
  margin-bottom: 2rem;
  padding: 1rem;
  line-height: 1.5em;
  white-space: pre;
  word-break: break-all;
  word-wrap: break-word;
}
div.main .content .markdown pre code {
  /* enclosed by 4 backticks (````) */
  padding: 0;
  font-size: 0.9rem;
}
div.main .content .markdown a code {
  color: #428bca !important;
}
div.main .content .markdown a code:hover {
  text-decoration: underline;
}
div.main .content .markdown p {
  
  text-align: justify;
  
  margin-top: 0;
  margin-bottom: 1em;
}
div.main .content .markdown ul,
div.main .content .markdown ol,
div.main .content .markdown dl {
  margin-top: 1rem;
  margin-bottom: 2rem;
}
div.main .content .markdown dt {
  font-weight: bold;
}
div.main .content .markdown dd {
  margin-bottom: .5rem;
}
div.main .content .markdown ul {
  list-style-type: disc;
  list-style-position: outside;
  margin-bottom: 1.25rem;
}
div.main .content .markdown ol {
  list-style-type: decimal;
  margin-bottom: 1.25rem;
}
div.main .content .markdown li {
  margin-left: 2em;
}
div.main .content .markdown em {
  font-style: italic;
}
div.main .content .markdown strong {
  font-weight: 700;
}
div.main .content .markdown hr {
  position: relative;
  margin: 1.75rem 0;
  border: 0;
  border-top: 1px solid #808080;
  border-top: 1px solid #999999;
}
div.main .content .markdown abbr {
  font-size: 0.85rem;
  font-weight: bold;
  color: #666666;
  text-transform: uppercase;
}
div.main .content .markdown abbr[title] {
  cursor: help;
  border-bottom: 1px dotted #808080;
}
div.main .content .markdown blockquote {
  padding: .5rem 1rem;
  margin: .8rem 0;
  color: #7a7a7a;
  border-left: .25rem solid #e5e5e5;
}
div.main .content .markdown blockquote p:last-child {
  margin-bottom: 0;
}
div.main .content .markdown figure {
  width: 100%;
  background: #fff;
  margin-bottom: 1em;
}
div.main .content .markdown figure img {
  width: 100%;
  height: auto;
  max-width: 100%;
  display: block;
  position: static;
  margin: auto;
}
div.main .content .markdown table {
  margin-bottom: 1rem;
  width: 100%;
  border: 1px solid #e5e5e5;
  border-collapse: collapse;
}
div.main .content .markdown td,
div.main .content .markdown th {
  padding: .25rem .5rem;
  border: 1px solid #e5e5e5;
}
div.main .content .markdown tbody tr:nth-child(odd) td,
div.main .content .markdown tbody tr:nth-child(odd) th {
  background-color: #f7f7f7;
}
div.main .content .markdown .footnotes ol {
  list-style-type: decimal;
  margin-left: 16px;
}
div.main .content .markdown .footnotes li {
  list-style-type: unset;
}
div.main .content .markdown .footnote-ref {
  font-size: 0.7em;
}
div.main .content .navigation {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: column;
  -moz-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  padding: 2em;
}
div.main .content .navigation div {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: row;
  -moz-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  margin-top: 1em;
}
div.main .content .navigation .icon {
  width: 16px;
  height: 16px;
}
div.main .content .navigation a {
  width: 250px;
  margin: 0 1em;
  text-align: center;
  font-style: italic;
  color: #313537;
}
div.main .content .share, div.main .content .share div {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: row;
  -moz-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  justify-content: center;
}
div.main .content .share {
  background-color: rgba(152, 152, 152, 0.07);
  padding: 1em 0;
}
div.main .content .share a {
  margin: 0 6px;
}
kbd {
  padding: 0.1em 0.6em;
  border: 1px solid #ccc;
  font-size: 11px;
  font-family: Arial,Helvetica,sans-serif;
  background-color: #f7f7f7;
  color: #333;
  -moz-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;
  -webkit-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;
  box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;
  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  display: inline-block;
  margin: 0 0.1em;
  text-shadow: 0 1px 0 #fff;
  line-height: 1.4;
  white-space: nowrap;
}

/* Fonts */


.wf-raleway-n4-active body, 
.wf-raleway-n4-active div.header nav ul a,
.wf-raleway-n7-active div.main .content .page-heading,
.wf-raleway-n2-active div.main .container.f04 .content .num,
.wf-raleway-n7-active div.main .content .markdown h1,
.wf-raleway-n7-active div.main .content .markdown h2,
.wf-raleway-n7-active div.main .content .markdown h3,
.wf-raleway-n7-active div.main .content .markdown h4,
.wf-raleway-n7-active div.main .content .markdown h5,
.wf-raleway-n7-active div.main .content .markdown h6 {
      font-family: 'Raleway';
}

.wf-merriweather-n3-active div.main .content .markdown {
      font-family: 'Merriweather';
}

.wf-ubuntu-mono-n4-active div.main .content .markdown code,
.wf-ubuntu-mono-n4-active div.main .content .markdown pre {
      font-family: 'Ubuntu Mono';
}


</style>
<style media="(min-width: 600px)">
  body {
-webkit-justify-content: center;
-moz-justify-content: center;
-ms-justify-content: center;
justify-content: center;
}
.non-narrow.zero-top-spacing {
padding-top: 0 !important;
}
section {
padding: 0 16px;
margin-left: 100px;
margin-right: 100px;

max-width: 750px;

}
div.column {
padding: 0 16px;

max-width: 750px;

}
div.header {
background-color: transparent;
}
div.header .container {
-webkit-justify-content: flex-start;
-moz-justify-content: flex-start;
-ms-justify-content: flex-start;
justify-content: flex-start;
}
div.header .container .logo {
margin: 0;
}
div.header-home .container .logo {
max-width: 216px;
margin-left: 24px;
}
div.header-home .name-home {
padding-top: 30px;
font-size: 40px;
}
div.header-home nav ul a {
font-size: 18px;
}
div.header .content {
-webkit-align-items: flex-start;
-moz-align-items: flex-start;
-ms-align-items: flex-start;
align-items: flex-start;
}
div.header .name {
color: #333333;
}
div.header nav {
font-size: 14px;
margin-bottom: 0;
}
div.header nav ul {
text-align: left;
}
div.header nav ul a {
color: #666666;
}
div.header nav ul a:hover {
color: #333333;
}
div.footer {
background-color: transparent;
}
div.footer .container {
flex-direction: row;
}
div.footer .container a {
margin-left: 3px;
margin-right: 3px;
color: #666666;
}
div.footer .container a:hover {
color: #333333;
}
div.footer .container a .icon {
font-size: 18px;
}
div.footer .container a .icon.larger {
font-size: 20px;
}
div.main .content .front-matter .date,
div.main .content .front-matter .author,
div.main .content .front-matter .tags,
div.main .content .front-matter .word-count,
div.main .content .front-matter .middot:before {
display: initial;
}
div.main .container.f04 {
-webkit-justify-content: flex-start;
-moz-justify-content: flex-start;
-ms-justify-content: flex-start;
justify-content: flex-start;
}
div.main .container.f04 .content {
-webkit-align-items: flex-start;
-moz-align-items: flex-start;
-ms-align-items: flex-start;
align-items: flex-start;
}
div.main .container.f04 .content .num {
margin: 0 0 10px 0;
font-size: 32px;
}
div.main .container.f04 .content .detail {
margin-bottom: 30px;
}
.container {
padding: 0 30px;
}
div.header {
padding-top: 60px;
padding-bottom: 60px;
}
div.footer {
padding-top: 60px;
padding-bottom: 60px;
}
div.main {
padding-top: 0;
}
div.main .content {
  
  font-size: 16px;
  
}
div.main .container .content .post-item {
display: flex;
list-style: none;
padding-left: 1.5em;
}
div.main .container .content .post-item .meta {
display: block;
}
div.main .content .markdown blockquote {
padding-right: 5rem;
padding-left: 1.25rem;
}
div.main .content .navigation {
-webkit-flex-direction: row;
-moz-flex-direction: row;
-ms-flex-direction: row;
flex-direction: row;
}
div.main .content .navigation div {
margin-top: 0em;
}

</style>
<style media="(min-width: 769px)">
  div.main .content .markdown figure {
width: 110%;
margin-left: -4%;
}
div.main .content .markdown img {
max-width: 110%;
width: 110%;
margin-left: -4%;
}
div.main .content .markdown pre {
width: 110%;
margin-left: -4%;
}

</style>

<noscript>
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,700,700i" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700" rel="stylesheet">
</noscript>


  <style type="text/css" media="screen">
    .hljs{display:block;background:white;padding:0.5em;color:#333333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-string,.hljs-variable,.hljs-template-variable,.hljs-strong,.hljs-emphasis,.hljs-quote{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-literal,.hljs-symbol,.hljs-bullet,.hljs-attribute{color:#0086b3}.hljs-section,.hljs-name{color:#63a35c}.hljs-tag{color:#333333}.hljs-title,.hljs-attr,.hljs-selector-id,.hljs-selector-class,.hljs-selector-attr,.hljs-selector-pseudo{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}
  </style>



  <style type="text/css" media="screen">
    .progressive{overflow:hidden;position:relative;background:#efefef}.progressive__img{width:100%;height:100%;transform:translateZ(0)}.progressive--not-loaded{filter:blur(30px)}.progressive--is-loaded{filter:blur(20px);animation:a .5s both}@keyframes a{0%{filter:blur(20px)}to{filter:blur(0)}}

  </style>



  <style type="text/css" media="screen">
    /*!
 * Social Share Kit v1.0.7 (http://socialsharekit.com)
 * Copyright 2015 Social Share Kit / Kaspars Sprogis.
 * Licensed under Creative Commons Attribution-NonCommercial 3.0 license:
 * https://github.com/darklow/social-share-kit/blob/master/LICENSE
 * ---
 */@font-face{font-family:'social-share-kit';src:url('/fonts/social-share-kit.eot');src:url('/fonts/social-share-kit.eot?#iefix') format('embedded-opentype'),url('/fonts/social-share-kit.woff') format('woff'),url('/fonts/social-share-kit.ttf') format('truetype'),url('/fonts/social-share-kit.svg#social-share-kit') format('svg');font-weight:normal;font-style:normal}.ssk:before{display:inline-block;font-family:"social-share-kit" !important;font-style:normal !important;font-weight:normal !important;font-variant:normal !important;text-transform:none !important;speak:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.ssk-facebook:before{content:"a";text-indent:4px;margin-right:-4px}.ssk-twitter:before{content:"b"}.ssk-google-plus:before{content:"v"}.ssk-google-plus-old:before{content:"c"}.ssk-email:before{content:"d";top:-1px;position:relative}.ssk-pinterest:before{content:"e"}.ssk-tumblr:before{content:"f"}.ssk-linkedin:before{content:"g"}.ssk-github:before{content:"h"}.ssk-vk:before{content:"i"}.ssk-instagram:before{content:"j"}.ssk-amazon:before{content:"k"}.ssk-skype:before{content:"s"}.ssk-youtube:before{content:"x"}.ssk-vimeo:before{content:"u"}.ssk-ebay:before{content:"p"}.ssk-apple:before{content:"l"}.ssk-behance:before{content:"q"}.ssk-dribble:before{content:"n"}.ssk-android:before{content:"o"}.ssk-whatsapp:before{content:"m"}.ssk-reddit:before{content:"r"}.ssk-reddit2:before{content:"t"}.ssk-link:before{content:"w"}.ssk{background-color:#757575;color:white;display:inline-block;font-size:22px;line-height:1px;margin-right:2px;margin-bottom:2px;padding:7px;text-align:center;text-decoration:none;transition:background-color .1s;-webkit-transition:background-color .1s;-moz-transition:background-color .1s;-ms-transition:background-color .1s;-o-transition:background-color .1s}.ssk:before,.ssk .glyphicon,.ssk .fa{position:relative;font-size:22px;top:0;vertical-align:middle}.ssk.ssk-xs,.ssk-xs>.ssk{padding:4px}.ssk.ssk-xs:before,.ssk-xs>.ssk:before,.ssk.ssk-xs .glyphicon,.ssk-xs>.ssk .glyphicon,.ssk.ssk-xs .fa,.ssk-xs>.ssk .fa{font-size:15px}.ssk.ssk-sm,.ssk-sm>.ssk{padding:5px}.ssk.ssk-sm:before,.ssk-sm>.ssk:before,.ssk.ssk-sm .glyphicon,.ssk-sm>.ssk .glyphicon,.ssk.ssk-sm .fa,.ssk-sm>.ssk .fa{font-size:20px}.ssk.ssk-lg,.ssk-lg>.ssk{padding:9px}.ssk.ssk-lg:before,.ssk-lg>.ssk:before,.ssk.ssk-lg .glyphicon,.ssk-lg>.ssk .glyphicon,.ssk.ssk-lg .fa,.ssk-lg>.ssk .fa{font-size:28px}.ssk:last-child{margin-right:0}.ssk:hover{background-color:#424242}.ssk:hover,.ssk:focus{color:#fff;text-decoration:none}.ssk.ssk-round,.ssk-round .ssk{border-radius:50%}.ssk.ssk-round:before,.ssk-round .ssk:before{text-indent:0;margin-right:0}.ssk.ssk-rounded,.ssk-rounded .ssk{border-radius:15%}.ssk.ssk-icon{color:#757575;padding:2px;font-size:24px}.ssk.ssk-icon,.ssk.ssk-icon:hover{background-color:transparent}.ssk.ssk-icon:hover{color:#424242}.ssk.ssk-icon.ssk-xs,.ssk-xs>.ssk.ssk-icon{font-size:16px}.ssk.ssk-icon.ssk-sm,.ssk-sm>.ssk.ssk-icon{font-size:20px}.ssk.ssk-icon.ssk-lg,.ssk-lg>.ssk.ssk-icon{font-size:28px}.ssk.ssk-text{overflow:hidden;font-size:17px;line-height:normal;padding-right:10px}.ssk.ssk-text:before,.ssk.ssk-text .glyphicon,.ssk.ssk-text .fa{margin:-7px 10px -7px -7px;padding:7px;background-color:rgba(0,0,0,0.15);vertical-align:bottom;text-indent:0}.ssk-block .ssk.ssk-text{display:block;margin-right:0;text-align:left}.ssk.ssk-text.ssk-xs,.ssk-xs>.ssk.ssk-text{font-size:12px;padding-right:6px}.ssk.ssk-text.ssk-xs:before,.ssk-xs>.ssk.ssk-text:before,.ssk.ssk-text.ssk-xs .glyphicon,.ssk-xs>.ssk.ssk-text .glyphicon,.ssk.ssk-text.ssk-xs .fa,.ssk-xs>.ssk.ssk-text .fa{margin:-4px 6px -4px -4px;padding:4px}.ssk.ssk-text.ssk-sm,.ssk-sm>.ssk.ssk-text{font-size:16px;padding-right:7px}.ssk.ssk-text.ssk-sm:before,.ssk-sm>.ssk.ssk-text:before,.ssk.ssk-text.ssk-sm .glyphicon,.ssk-sm>.ssk.ssk-text .glyphicon,.ssk.ssk-text.ssk-sm .fa,.ssk-sm>.ssk.ssk-text .fa{margin:-5px 7px -5px -5px;padding:5px}.ssk.ssk-text.ssk-lg,.ssk-lg>.ssk.ssk-text{font-size:22px;padding-right:13px}.ssk.ssk-text.ssk-lg:before,.ssk-lg>.ssk.ssk-text:before,.ssk.ssk-text.ssk-lg .glyphicon,.ssk-lg>.ssk.ssk-text .glyphicon,.ssk.ssk-text.ssk-lg .fa,.ssk-lg>.ssk.ssk-text .fa{margin:-9px 13px -9px -9px;padding:9px}.ssk-group,.ssk-sticky{font-size:0}.ssk-sticky{top:0;position:fixed;z-index:2000}.ssk-sticky .ssk{transition:padding .1s ease-out;-webkit-transition:padding .1s ease-out;-moz-transition:padding .1s ease-out;-ms-transition:padding .1s ease-out;-o-transition:padding .1s ease-out;margin:0}@media (min-width:768px){.ssk-sticky.ssk-left .ssk,.ssk-sticky.ssk-right .ssk{display:block;clear:both}.ssk-sticky.ssk-left.ssk-center,.ssk-sticky.ssk-right.ssk-center{top:50%;transform:translateY(-50%);-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%)}.ssk-sticky.ssk-left{left:0}.ssk-sticky.ssk-left .ssk{float:left}.ssk-sticky.ssk-left .ssk:hover{padding-left:15px}.ssk-sticky.ssk-right{right:0}.ssk-sticky.ssk-right .ssk{float:right}.ssk-sticky.ssk-right .ssk:hover{padding-right:15px}}.ssk-sticky.ssk-bottom{font-size:0;top:auto;bottom:0}.ssk-sticky.ssk-bottom.ssk-center{left:50%;right:auto;transform:translateX(-50%);-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%)}.ssk-sticky.ssk-bottom .ssk{vertical-align:bottom}.ssk-sticky.ssk-bottom .ssk:hover{padding-bottom:15px}.ssk-sticky.ssk-round.ssk-xs .ssk:hover{padding:8px}.ssk-sticky.ssk-round.ssk-sm .ssk:hover{padding:9px}.ssk-sticky.ssk-round .ssk:hover{padding:11px}.ssk-sticky.ssk-round.ssk-lg .ssk:hover{padding:13px}@media (max-width:767px){.ssk-sticky{left:0;right:0;bottom:0;top:auto;width:100%;display:flex !important;flex-direction:row;flex-wrap:nowrap}.ssk-sticky.ssk-sticky-hide-xs{display:none !important}.ssk-sticky .ssk{flex:1;width:auto}.ssk-sticky .ssk .ssk-num{display:none}}.ssk-count{padding-top:20px}.ssk-count .ssk{position:relative}.ssk-count .ssk-num{border-radius:4px;color:#8f8f8f;background-color:rgba(50,50,50,0.03);display:block;font-size:12px;left:0;line-height:20px;position:absolute;right:0;text-align:center;top:-20px}@media (min-width:768px){.ssk-count.ssk-sticky{padding-top:0}.ssk-count.ssk-sticky.ssk-left .ssk-num,.ssk-count.ssk-sticky.ssk-right .ssk-num{top:20%;background-color:transparent}.ssk-count.ssk-sticky.ssk-left .ssk-num{left:100%;margin-left:5px}.ssk-count.ssk-sticky.ssk-right .ssk-num{right:115%;margin-left:-100%;text-align:right}}.ssk-facebook{background-color:#3B5998}.ssk-grayscale>.ssk-facebook{background-color:#757575}.ssk-facebook:hover{background-color:#2d4373}.ssk-facebook:hover{background-color:#2d4373}.ssk-grayscale>.ssk-facebook:hover{background-color:#3B5998}.ssk-facebook.ssk-icon{color:#3B5998}.ssk-facebook.ssk-icon:hover{color:#2d4373}.ssk-facebook.ssk-icon:before{text-indent:0;margin-right:0}.ssk-twitter{background-color:#1DA1F2}.ssk-grayscale>.ssk-twitter{background-color:#757575}.ssk-twitter:hover{background-color:#0c85d0}.ssk-twitter:hover{background-color:#0c85d0}.ssk-grayscale>.ssk-twitter:hover{background-color:#1DA1F2}.ssk-twitter.ssk-icon{color:#1DA1F2}.ssk-twitter.ssk-icon:hover{color:#0c85d0}.ssk-google-plus{background-color:#EA4335}.ssk-grayscale>.ssk-google-plus{background-color:#757575}.ssk-google-plus:hover{background-color:#d62516}.ssk-google-plus:hover{background-color:#d62516}.ssk-grayscale>.ssk-google-plus:hover{background-color:#EA4335}.ssk-google-plus.ssk-icon{color:#EA4335}.ssk-google-plus.ssk-icon:hover{color:#d62516}.ssk-pinterest{background-color:#BD081C}.ssk-grayscale>.ssk-pinterest{background-color:#757575}.ssk-pinterest:hover{background-color:#8c0615}.ssk-pinterest:hover{background-color:#8c0615}.ssk-grayscale>.ssk-pinterest:hover{background-color:#BD081C}.ssk-pinterest.ssk-icon{color:#BD081C}.ssk-pinterest.ssk-icon:hover{color:#8c0615}.ssk-tumblr{background-color:#395773}.ssk-grayscale>.ssk-tumblr{background-color:#757575}.ssk-tumblr:hover{background-color:#283d51}.ssk-tumblr:hover{background-color:#283d51}.ssk-grayscale>.ssk-tumblr:hover{background-color:#395773}.ssk-tumblr.ssk-icon{color:#395773}.ssk-tumblr.ssk-icon:hover{color:#283d51}.ssk-email{background-color:#757575}.ssk-grayscale>.ssk-email{background-color:#757575}.ssk-email:hover{background-color:#5b5b5b}.ssk-email:hover{background-color:#5b5b5b}.ssk-grayscale>.ssk-email:hover{background-color:#757575}.ssk-grayscale>.ssk-email:hover{background-color:#5b5b5b}.ssk-email.ssk-icon{color:#757575}.ssk-email.ssk-icon:hover{color:#5b5b5b}.ssk-vk{background-color:#54769a}.ssk-grayscale>.ssk-vk{background-color:#757575}.ssk-vk:hover{background-color:#425d79}.ssk-vk:hover{background-color:#425d79}.ssk-grayscale>.ssk-vk:hover{background-color:#54769a}.ssk-vk.ssk-icon{color:#54769a}.ssk-vk.ssk-icon:hover{color:#425d79}.ssk-linkedin{background-color:#1c87bd}.ssk-grayscale>.ssk-linkedin{background-color:#757575}.ssk-linkedin:hover{background-color:#156791}.ssk-linkedin:hover{background-color:#156791}.ssk-grayscale>.ssk-linkedin:hover{background-color:#1c87bd}.ssk-linkedin.ssk-icon{color:#1c87bd}.ssk-linkedin.ssk-icon:hover{color:#156791}.ssk-whatsapp{background-color:#34AF23}.ssk-grayscale>.ssk-whatsapp{background-color:#757575}.ssk-whatsapp:hover{background-color:#27851a}.ssk-whatsapp:hover{background-color:#27851a}.ssk-grayscale>.ssk-whatsapp:hover{background-color:#34AF23}.ssk-whatsapp.ssk-icon{color:#34AF23}.ssk-whatsapp.ssk-icon:hover{color:#27851a}.ssk-reddit{background-color:#5f99cf}.ssk-grayscale>.ssk-reddit{background-color:#757575}.ssk-reddit:hover{background-color:#3a80c1}.ssk-reddit:hover{background-color:#3a80c1}.ssk-grayscale>.ssk-reddit:hover{background-color:#5f99cf}.ssk-reddit.ssk-icon{color:#5f99cf}.ssk-reddit.ssk-icon:hover{color:#3a80c1}.ssk-reddit2{background-color:#5f99cf}.ssk-grayscale>.ssk-reddit2{background-color:#757575}.ssk-reddit2:hover{background-color:#3a80c1}.ssk-reddit2:hover{background-color:#3a80c1}.ssk-grayscale>.ssk-reddit2:hover{background-color:#5f99cf}.ssk-reddit2.ssk-icon{color:#5f99cf}.ssk-reddit2.ssk-icon:hover{color:#3a80c1}.ssk-turquoise{background-color:#1abc9c}.ssk-turquoise:hover{background-color:#148f77}.ssk-emerald{background-color:#2ecc71}.ssk-emerald:hover{background-color:#25a25a}.ssk-peter-river{background-color:#3498db}.ssk-peter-river:hover{background-color:#217dbb}.ssk-belize-hole{background-color:#2980b9}.ssk-belize-hole:hover{background-color:#20638f}.ssk-amethyst{background-color:#9b59b6}.ssk-amethyst:hover{background-color:#804399}.ssk-wisteria{background-color:#8e44ad}.ssk-wisteria:hover{background-color:#703688}.ssk-wet-asphalt{background-color:#34495e}.ssk-wet-asphalt:hover{background-color:#222f3d}.ssk-midnight-blue{background-color:#2c3e50}.ssk-midnight-blue:hover{background-color:#1a242f}.ssk-green-sea{background-color:#16a085}.ssk-green-sea:hover{background-color:#107360}.ssk-nephritis{background-color:#27ae60}.ssk-nephritis:hover{background-color:#1e8449}.ssk-sunflower{background-color:#f1c40f}.ssk-sunflower:hover{background-color:#c29d0b}.ssk-orange{background-color:#f39c12}.ssk-orange:hover{background-color:#c87f0a}.ssk-carrot{background-color:#e67e22}.ssk-carrot:hover{background-color:#bf6516}.ssk-pumpkin{background-color:#d35400}.ssk-pumpkin:hover{background-color:#a04000}.ssk-alizarin{background-color:#e74c3c}.ssk-alizarin:hover{background-color:#d62c1a}.ssk-pomegranate{background-color:#c0392b}.ssk-pomegranate:hover{background-color:#962d22}.ssk-clouds{background-color:#cfd9db}.ssk-clouds:hover{background-color:#b1c2c6}.ssk-concrete{background-color:#95a5a6}.ssk-concrete:hover{background-color:#798d8f}.ssk-silver{background-color:#bdc3c7}.ssk-silver:hover{background-color:#a1aab0}.ssk-asbestos{background-color:#7f8c8d}.ssk-asbestos:hover{background-color:#667273}.ssk-dark-gray{background-color:#555}.ssk-dark-gray:hover{background-color:#3b3b3b}.ssk-black{background-color:#333}.ssk-black:hover{background-color:#1a1a1a}
  </style>



  <style type="text/css" media="screen">
    a {
    color: #09A051;
}

a:hover {
    color: #00803D;
}

div.main .content .markdown, div.header .name, div.header nav ul a:hover {
    color: #3F3C33;
}

div.header nav ul a {
    color: #1912A5;
}

div.main .content .markdown code {
    background-color: #FFDAA5;
    color: #09A051;
}

div.main .content .markdown pre, div.main .content .markdown pre code {
    background-color: #282a36;
    color: #87a5d2;
}

.hljs, .hljs-subst, .hljs-variable {
    color: #87a5d2;
}

.hljs-type {
    color: #0EAA8A;
}

.hljs-quote {
    color: #ffcb8d;
}

.hljs-string, .hljs-number, .hljs-selector-id, .hljs-selector-class, .hljs-template-tag, .hljs-deletion {
    color: #0EAA8A;
}

.hljs-comment {
    color: #1912A5;
}

.hljs-regexp, .hljs-symbol, .hljs-template-variable {
    color: #ffcb8d;
}

.hljs-keyword, .hljs-attribute, .hljs-meta-keyword, .hljs-doctag, .hljs-name {
    color: #0EAA8A;
}

.hljs-link, .hljs-selector-attr, .hljs-selector-pseudo, .hljs-title, .hljs-section {
    color: #0EAA8A;
}

.hljs-built_in, .hljs-bullet, .hljs-code, .hljs-addition {
    color: #0EAA8A;
}

.ssk {
    background-color: #1912A5;
}

  </style>





<link rel="shortcut icon"

    href="/img/favicon.ico"

>

</head>


<body>


<div class="header column">

    <div class="container">
        
        <a href="/"><img class="logo" src="/img/billie.png" alt="logo"></a>
        
        <div class="content">
            <a href="/"><div class="name"><h1>Sam Callis</h1></div></a>
            <nav>
                <ul>
                    
                    
                        
                            
                            <li><a href="/projects">projects</a></li>
                            
                        
                    
                    
                        
                            <li><a href="/about/">About</a></li>
                        
                    
                        
                    
                        
                    
                </ul>
            </nav>
        </div>
    </div>
</div>



<div class="main column">
    <div class="container">
        <div class="content">
            <div class="page-heading">

    
    Indoor Air Pollution: Final Project
    

</div>

            <div class="markdown">
                
    
    


<p>Description of the DATA you used (either given to you or where you found it, what unique characteristics of the data, what quantitative and qualitative information is in the data set, etc.)
Description of the AUDIENCE you are aiming for (including more detail than simply saying “a biochemist”).
Description of the TYPE of graph (e.g. Bar chart, Sankey Dendogram, etc).
Representation Description: What are you trying to show?
How to read it &amp; what to look for: How should a newbie to this graph approach interpreting it? What are the major highlights of the graph type?
Presentation: address how you are using annotation, color, and general composition (e.g. how are things arranged, scale, etc.)
How I created it: Methods section (see point 1: all relevant code should be included); additionally, include a bit about the process. Please include an early draft of your visualization (it might be a completely different), and why you changed it/what you tweaked to get to your final visualization.</p>
<div id="description-of-data" class="section level1">
<h1>Description of Data</h1>
<p>This data comes from the 4/12/22 TidyTuesday challenge. The data source is <a href="https://ourworldindata.org/indoor-air-pollution" class="uri">https://ourworldindata.org/indoor-air-pollution</a> and is all about indoor air pollution. Indoor air pollution is caused by burning unclean cooking fuels, such as wood, crop waste and dung. WHO has called indoor air pollution “the world’s largest single environmental risk”. An estimated 4.1% of global deaths are attributed to indoor air pollution. Format: This data contains multiple datasets with longitudinal data by country with different metrics for deaths attributed to indoor air pollution, access to clean fuels, GDP, and more.</p>
</div>
<div id="description-of-audience" class="section level1">
<h1>Description of Audience</h1>
<p>This presentation is for anyone and everyone who may be concerned with the threat indoor air pollution poses. The visualizations assume a basic familiarity with world maps, but beyond that should be straightforward and accessible.</p>
</div>
<div id="type-of-graph" class="section level1">
<h1>Type of graph</h1>
<p>In this project, both world maps and an area plot are utilized to communicate the data. The maps utilize both continuous and discrete color palettes to show what regions are most affected by air pollution, or which regions have the greatest access to clean cooking fuels. The area plot is utilized to show how the total number of deaths attributed to indoor air pollution has changed over time, by region.</p>
</div>
<div id="representation-description" class="section level1">
<h1>Representation Description:</h1>
<p>The data we have span from 1990-2019 in the case of indoor air pollution related death data, and from 2000-2016 for the clean cooking fuel access data. Some questions we seek to address in this presentation are:</p>
<ul>
<li><ol style="list-style-type: decimal">
<li>What parts of the world have the greatest death rates attributed to indoor air pollution? How do these death rates change over time?</li>
</ol></li>
<li><ol start="2" style="list-style-type: decimal">
<li>How has the global trend of death attributed to indoor air pollution changed over time?</li>
</ol></li>
<li><ol start="3" style="list-style-type: decimal">
<li>What parts of the world have greatest access to clean cooking fuels? How has access changed over time?</li>
</ol></li>
</ul>
</div>
<div id="how-to-read-the-graphs" class="section level1">
<h1>How to Read the Graphs:</h1>
<p>The maps as I have presented them are faceted into four different year snapshots. The idea is to be able to observe the not so subtle changes in the death rates, deaths per capita, and access to clean cooking fuels over time by observing changes in color. These are supplemented with the area plot, which helps us understand how total global deaths are changing over time and how these changes vary by World Bank Indicator region.</p>
</div>
<div id="presentation" class="section level1">
<h1>Presentation</h1>
<pre class="r"><code>knitr::include_graphics(here::here(&quot;data&quot;, &quot;BMI 525 Final Presentation.pdf&quot;))</code></pre>
<p><embed src="/Users/samcallis/Documents/OHSU/R/Spring22/project/data/BMI%20525%20Final%20Presentation.pdf" /><!-- --></p>
</div>
<div id="how-i-created-the-visualization" class="section level1">
<h1>How I Created the Visualization:</h1>
<p>Please follow along with the annotated code below to follow the process:</p>
<div id="citations" class="section level2">
<h2>Citations:</h2>
<ul>
<li><p>Hannah Ritchie and Max Roser (2013) - “Indoor Air Pollution”. Published online at OurWorldInData.org. Retrieved from: ‘<a href="https://ourworldindata.org/indoor-air-pollution" class="uri">https://ourworldindata.org/indoor-air-pollution</a>’ [Online Resource]</p></li>
<li><p><a href="https://ourworldindata.org/indoor-air-pollution" class="uri">https://ourworldindata.org/indoor-air-pollution</a></p></li>
<li><p><a href="https://www.who.int/news-room/fact-sheets/detail/household-air-pollution-and-health" class="uri">https://www.who.int/news-room/fact-sheets/detail/household-air-pollution-and-health</a></p></li>
</ul>
<p>Code references:
+ <a href="https://github.com/JuanmaMN/TidyTuesday/blob/master/2022/April/TidyTuesday_21st_April_2022.R" class="uri">https://github.com/JuanmaMN/TidyTuesday/blob/master/2022/April/TidyTuesday_21st_April_2022.R</a></p>
</div>
</div>
<div id="read-in-data" class="section level1">
<h1>Read in data</h1>
<p><strong>We are using the tidytuesday indoor air pollution dataset</strong><br />
URL : <a href="https://ourworldindata.org/indoor-air-pollution" class="uri">https://ourworldindata.org/indoor-air-pollution</a></p>
<pre class="r"><code># load data
tuesdata &lt;- tidytuesdayR::tt_load(&#39;2022-04-12&#39;)</code></pre>
<pre><code>## --- Compiling #TidyTuesday Information for 2022-04-12 ----</code></pre>
<pre><code>## --- There are 6 files available ---</code></pre>
<pre><code>## --- Starting Download ---</code></pre>
<pre><code>## 
##  Downloading file 1 of 6: `fuel_gdp.csv`
##  Downloading file 2 of 6: `fuel_access.csv`
##  Downloading file 3 of 6: `death_timeseries.csv`
##  Downloading file 4 of 6: `death_source.csv`
##  Downloading file 5 of 6: `death_fuel.csv`
##  Downloading file 6 of 6: `indoor_pollution.csv`</code></pre>
<pre><code>## --- Download complete ---</code></pre>
<pre class="r"><code># clean names, rename messy variable
pol &lt;- tuesdata$indoor_pollution %&gt;%
  janitor::clean_names() %&gt;%
  rename(deaths_pol = deaths_cause_all_causes_risk_household_air_pollution_from_solid_fuels_sex_both_age_age_standardized_percent)


# assign individual data frames
fuel_gdp &lt;- tuesdata$fuel_gdp
death_ts &lt;- tuesdata$death_timeseries
death_fuel &lt;- tuesdata$death_fuel
death_source &lt;- tuesdata$death_source

# check em out!
skimr::skim(pol)</code></pre>
<table style='width: auto;'
        class='table table-condensed'>
<caption>
<span id="tab:unnamed-chunk-3">Table 1: </span>Data summary
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
pol
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of rows
</td>
<td style="text-align:left;">
8010
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of columns
</td>
<td style="text-align:left;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
_______________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Column type frequency:
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
________________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Group variables
</td>
<td style="text-align:left;">
None
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
min
</th>
<th style="text-align:right;">
max
</th>
<th style="text-align:right;">
empty
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:right;">
whitespace
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
entity
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
48
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
267
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
code
</td>
<td style="text-align:right;">
1860
</td>
<td style="text-align:right;">
0.77
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
205
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
p0
</th>
<th style="text-align:right;">
p25
</th>
<th style="text-align:right;">
p50
</th>
<th style="text-align:right;">
p75
</th>
<th style="text-align:right;">
p100
</th>
<th style="text-align:left;">
hist
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
year
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2004.50
</td>
<td style="text-align:right;">
8.66
</td>
<td style="text-align:right;">
1990
</td>
<td style="text-align:right;">
1997.00
</td>
<td style="text-align:right;">
2004.50
</td>
<td style="text-align:right;">
2012.00
</td>
<td style="text-align:right;">
2019.00
</td>
<td style="text-align:left;">
▇▇▇▇▇
</td>
</tr>
<tr>
<td style="text-align:left;">
deaths_pol
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5.27
</td>
<td style="text-align:right;">
5.55
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.21
</td>
<td style="text-align:right;">
2.99
</td>
<td style="text-align:right;">
10.08
</td>
<td style="text-align:right;">
23.53
</td>
<td style="text-align:left;">
▇▂▃▁▁
</td>
</tr>
</tbody>
</table>
<div id="exploratory-data-analysis" class="section level2">
<h2>Exploratory Data Analysis</h2>
<pre class="r"><code># cut data
pol &lt;- pol %&gt;%
  mutate(q.ref = case_when(deaths_pol &lt;= 1 ~ &quot;0-1%&quot;,
                           deaths_pol &gt; 1 &amp; deaths_pol &lt;= 2.5 ~ &quot;1-2.5%&quot;,
                           deaths_pol &gt; 2.5 &amp; deaths_pol &lt;= 5 ~ &quot;2.5-5%&quot;,
                           deaths_pol &gt; 5 &amp; deaths_pol &lt;= 7.5 ~ &quot;5-7.5%&quot;,
                           deaths_pol &gt; 7.5 &amp; deaths_pol &lt;= 10 ~ &quot;7.5-10%&quot;,
                           deaths_pol &gt; 10 &amp; deaths_pol &lt;= 12.5 ~ &quot;10-12.5%&quot;,
                           deaths_pol &gt; 12.5 ~ &quot;12.5-25%&quot;,
                           TRUE ~ &quot;No Data&quot;),
         q.ref = factor(q.ref,
                        levels = c(&quot;0-1%&quot;, &quot;1-2.5%&quot;, &quot;2.5-5%&quot;, &quot;5-7.5%&quot;, &quot;7.5-10%&quot;, &quot;10-12.5%&quot;, &quot;12.5-25%&quot;, &quot;No Data&quot;)),
         continent = countrycode::countrycode(code, &quot;iso3c&quot;, &quot;continent&quot;)) </code></pre>
<pre><code>## Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: OWID_WRL</code></pre>
<pre class="r"><code>min_death &lt;- min(pol$deaths_pol, na.rm=TRUE)
max_death &lt;- max(pol$deaths_pol, na.rm=TRUE)
diff_death &lt;- max_death - min_death
sd_death &lt;- sd(pol$deaths_pol, na.rm = TRUE)

# Steve Bedrick&#39;s code to show how different cuts split data at different years in our case
dense_bar &lt;- function(yoi, break_col) {
  pol %&gt;%
  filter(year == {{yoi}}) %&gt;%
  ggplot() +
  aes(x = fct_reorder(entity, -deaths_pol), y = deaths_pol) +
  geom_col(aes(fill=.data[[break_col]])) +
  labs(title = glue::glue(yoi,&quot; &quot;, break_col)) +
  theme(legend.position = &quot;none&quot;,
        panel.background = element_blank(),
        panel.grid.major = element_blank(),
        panel.grid.minor = element_blank(),
        axis.title.x = element_blank(),
        axis.text.x = element_blank(),
        axis.ticks.x = element_blank())
}

cowplot::plot_grid(
  dense_bar(1990, &quot;q.ref&quot;),
  dense_bar(2000, &quot;q.ref&quot;),
  dense_bar(2010, &quot;q.ref&quot;),
  dense_bar(2019, &quot;q.ref&quot;),
  nrow = 2,
  ncol = 2
)</code></pre>
<p><img src="/projects/bmi525_finalproj_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code># add ggplot world data
world &lt;- map_data(&quot;world&quot;) %&gt;%
  filter(region != &quot;Antarctica&quot;)



# recode regions to match data set
world$region &lt;- recode(world$region, &quot;UK&quot; = &quot;United Kingdom&quot;)
world$region &lt;- recode(world$region, &quot;USA&quot; = &quot;United States&quot;)
world$region &lt;- recode(world$region, &quot;Trinidad&quot; = &quot;Trinidad and Tobago&quot;)
world$region &lt;- recode(world$region, &quot;Saint Vincent&quot; = &quot;Saint Vincent and the Grenadines&quot;)
world$region &lt;- recode(world$region, &quot;Saint Kitts&quot; = &quot;Saint Kitts and Nevis&quot;)
world$region &lt;- recode(world$region, &quot;Macedonia&quot; = &quot;North Macedonia&quot;)
world$region &lt;- recode(world$region, &quot;Micronesia&quot; = &quot;Micronesia (Entity)&quot;)
world$region &lt;- recode(world$region, &quot;Democratic Republic of the Congo&quot; = &quot;Democratic Republic of Congo&quot;)
world$region &lt;- recode(world$region, &quot;Republic of Congo&quot; = &quot;Congo&quot;)
world$region &lt;- recode(world$region, &quot;Czech Republic&quot; = &quot;Czechia&quot;)
world$region &lt;- recode(world$region, &quot;Ivory Coast&quot; = &quot;Cote d&#39;Ivoire&quot;)
world$region &lt;- recode(world$region, &quot;Antigua&quot; = &quot;Antigua and Barbuda&quot;)

# merge datasets
pol_2 &lt;- pol %&gt;%
  dplyr::select(entity, code, year, deaths_pol, q.ref) %&gt;%
  pivot_wider(names_from = year, values_from = c(deaths_pol, q.ref)) %&gt;%
  left_join(world, by = c(&quot;entity&quot; = &quot;region&quot;))

update_geom_defaults(&quot;map&quot;, list(fill = &quot;darkgrey&quot;))</code></pre>
<pre class="r"><code>library(rlang)</code></pre>
<pre><code>## 
## Attaching package: &#39;rlang&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:purrr&#39;:
## 
##     %@%, as_function, flatten, flatten_chr, flatten_dbl, flatten_int,
##     flatten_lgl, flatten_raw, invoke, splice</code></pre>
<pre class="r"><code># load fonts
extrafont::loadfonts(device = &quot;win&quot;, quiet = TRUE)</code></pre>
<pre><code>## Warning in loadfonts_win(quiet = quiet): OS is not Windows. No fonts registered
## with windowsFonts().</code></pre>
<pre class="r"><code>sysfonts::font_add_google(&quot;Playfair Display&quot;)

font_plot &lt;- &quot;Playfair Display&quot;

showtext::showtext_auto()

# intial plot function - includes only one year

map_year &lt;- function(q.ref_year, fill_year) {
  ggplot() +
  geom_map(data = world, map = world,
           aes(long, lat, group = group, map_id = region)) +
  geom_map(data =pol_2, map = world,
           aes(fill = {{q.ref_year}}, map_id = entity),
           color = &quot;black&quot;, size = 0.15, alpha = .8) +
  labs(title = glue::glue(&quot;Proportion of Deaths Caused By Indoor Air Pollution, &quot;, fill_year)) +
  #coord_map(&quot;stereographic&quot;) +
  theme(plot.title = element_text(size = 20, family = font_plot),
        legend.position = &quot;bottom&quot;,
        legend.background=element_blank(),
        panel.background = element_blank(),
        panel.grid.major = element_blank(),
        panel.grid.minor = element_blank(),
        axis.title.x = element_blank(),
        axis.title.y = element_blank(),
        axis.text.x = element_blank(),
        axis.text.y = element_blank(),
        axis.ticks.x = element_blank(),
        axis.ticks.y = element_blank(),
        plot.background = element_rect(fill = &quot;#EFF3F3&quot;)) +
  scale_fill_brewer(palette = &quot;YlGnBu&quot;) +
  guides(fill = guide_legend(
    title=&quot;&quot;,
    title.position = &quot;top&quot;,
    label.position = &quot;bottom&quot;,
    nrow = 1,
    family = font_plot, 
    color = &quot;black&quot;,
    keywidth = 3, keyheight = 0.5))
}

map_year(q.ref_1990, 1990)</code></pre>
<pre><code>## Warning: Ignoring unknown aesthetics: x, y</code></pre>
<p><img src="/projects/bmi525_finalproj_files/figure-html/unnamed-chunk-5-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="proportion-of-deaths-over-time" class="section level1">
<h1>Proportion of deaths over time</h1>
<pre class="r"><code>pol_world &lt;- pol_2 %&gt;%
  dplyr::select(entity, code, q.ref_1990:q.ref_2019, long, lat) %&gt;%
  pivot_longer(cols = c(q.ref_1990:q.ref_2019),
               names_to = c(&#39;.value&#39;, &#39;year&#39;),
               names_pattern = &#39;(.*)_(\\w+)&#39;) %&gt;%
  rename(pct = q.ref) %&gt;%
  mutate(year = as.numeric(year),
         id = cur_group_id())

pct_deaths &lt;- pol_world %&gt;%
  filter(year == 1990|year == 2000| year == 2010| year == 2019) %&gt;%
  ggplot() +
  geom_map(data = world, map = world,
           aes(long, lat, group = group, map_id = region)) +
  geom_map(map = world,
           aes(fill = pct, map_id = entity),
           color = &quot;black&quot;, size = 0.15, alpha = .8) +
  facet_wrap(~year) +
  labs(title = &quot;Proportion of Deaths Caused By Indoor Air Pollution&quot;,
       subtitle = &quot;Share of deaths (any cause) attributed to indoor air pollution, from burning solid fuels, as a risk factor&quot;,
       caption = &quot;Source: https://ourworldindata.org/&quot;) +
  #coord_map(&quot;stereographic&quot;) +
  theme(plot.title = element_text(size = 20, family = font_plot),
        legend.position = &quot;bottom&quot;,
        legend.background=element_blank(),
        panel.background = element_blank(),
        panel.grid.major = element_blank(),
        panel.grid.minor = element_blank(),
        axis.title.x = element_blank(),
        axis.title.y = element_blank(),
        axis.text.x = element_blank(),
        axis.text.y = element_blank(),
        axis.ticks.x = element_blank(),
        axis.ticks.y = element_blank(),
        strip.text = element_text(size = 20, family = font_plot, hjust = 0.1),
        strip.background = element_blank(),
        plot.background = element_rect(fill = &quot;#EFF3F3&quot;)) +
  scale_fill_brewer(palette = &quot;YlGnBu&quot;) +
  guides(fill = guide_legend(
    title=&quot;&quot;,
    title.position = &quot;top&quot;,
    label.position = &quot;bottom&quot;,
    nrow = 1,
    family = font_plot, 
    color = &quot;black&quot;,
    keywidth = 3, keyheight = 0.5))

pct_deaths</code></pre>
<p><img src="/projects/bmi525_finalproj_files/figure-html/unnamed-chunk-6-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
<div id="death-count-per-capita-over-time" class="section level1">
<h1>Death count per capita over time</h1>
<pre class="r"><code># cut data
death_source &lt;- death_source %&gt;%
  janitor::clean_names() %&gt;%
  rename(death_rate = deaths_cause_all_causes_risk_household_air_pollution_from_solid_fuels_sex_both_age_age_standardized_rate)

death_source &lt;- death_source %&gt;%
  mutate(q.ref = case_when(death_rate &lt;= 10 ~ &quot;0-10&quot;,
                           death_rate &gt; 10 &amp; death_rate &lt;= 25 ~ &quot;11-25&quot;,
                           death_rate &gt; 25 &amp; death_rate &lt;= 50 ~ &quot;25-50&quot;,
                           death_rate &gt; 50 &amp; death_rate &lt;= 100 ~ &quot;51-100&quot;,
                           death_rate &gt; 100 &amp; death_rate &lt;= 250 ~ &quot;101-250&quot;,
                           death_rate &gt; 250 &amp; death_rate &lt;= 500 ~ &quot;251-500&quot;,
                           death_rate &gt; 500 ~ &quot;&gt;500&quot;,
                           TRUE ~ &quot;No Data&quot;),
         q.ref = factor(q.ref,
                        levels = c(&quot;0-10&quot;, &quot;11-25&quot;, &quot;25-50&quot;, &quot;51-100&quot;, &quot;101-250&quot;, &quot;251-500&quot;, &quot;&gt;500&quot;, &quot;No Data&quot;)),
         continent = countrycode::countrycode(code, &quot;iso3c&quot;, &quot;continent&quot;)) </code></pre>
<pre><code>## Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: OWID_WRL</code></pre>
<pre class="r"><code># merge world datasets
death_source_2 &lt;- death_source %&gt;%
  dplyr::select(entity, code, year, death_rate, q.ref) %&gt;%
  pivot_wider(names_from = year, values_from = c(death_rate, q.ref)) %&gt;%
  left_join(world, by = c(&quot;entity&quot; = &quot;region&quot;))

death_source_world &lt;- death_source_2 %&gt;%
  dplyr::select(entity, code, q.ref_1990:q.ref_2019, long, lat) %&gt;%
  pivot_longer(cols = c(q.ref_1990:q.ref_2019),
               names_to = c(&#39;.value&#39;, &#39;year&#39;),
               names_pattern = &#39;(.*)_(\\w+)&#39;) %&gt;%
  rename(rate = q.ref) %&gt;%
  mutate(year = as.numeric(year),
         id = cur_group_id())</code></pre>
<pre class="r"><code>#plots
death_rates &lt;- death_source_world %&gt;%
  filter(year == 1990|year == 2000| year == 2010| year == 2019) %&gt;%
  ggplot() +
  geom_map(data = world, map = world,
           aes(long, lat, group = group, map_id = region)) +
  geom_map(map = world,
           aes(fill = rate, map_id = entity),
           color = &quot;black&quot;, size = 0.15, alpha = .8) +
  facet_wrap(~year) +
  labs(title = &quot;Rates of Death Caused By Indoor Air Pollution&quot;,
       subtitle = &quot;Death rates are the number of indoor air polution deaths per 100,000 people&quot;,
       caption = &quot;Source: https://ourworldindata.org/&quot;) +
  #coord_map(&quot;stereographic&quot;) +
  theme(plot.title = element_text(size = 20, family = font_plot),
        plot.subtitle = element_text(size = 14, family = font_plot),
        legend.position = &quot;bottom&quot;,
        legend.background=element_blank(),
        panel.background = element_blank(),
        panel.grid.major = element_blank(),
        panel.grid.minor = element_blank(),
        axis.title.x = element_blank(),
        axis.title.y = element_blank(),
        axis.text.x = element_blank(),
        axis.text.y = element_blank(),
        axis.ticks.x = element_blank(),
        axis.ticks.y = element_blank(),
        strip.text = element_text(size = 20, family = font_plot, hjust = 0.1),
        strip.background = element_blank(),
        plot.background = element_rect(fill = &quot;#EFF3F3&quot;)) +
  scale_fill_brewer(palette = &quot;YlGn&quot;) +
  guides(fill = guide_legend(
    title=&quot;&quot;,
    title.position = &quot;top&quot;,
    label.position = &quot;bottom&quot;,
    nrow = 1,
    family = font_plot, 
    color = &quot;black&quot;,
    keywidth = 3, keyheight = 0.5))</code></pre>
<pre><code>## Warning: Ignoring unknown aesthetics: x, y</code></pre>
<pre class="r"><code>death_rates</code></pre>
<p><img src="/projects/bmi525_finalproj_files/figure-html/unnamed-chunk-8-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
<div id="total-deaths-over-time" class="section level1">
<h1>Total Deaths over Time</h1>
<pre class="r"><code># colorblind palettes
#From Paul Tol: https://personal.sron.nl/~pault/
Tol_bright &lt;- c(&#39;#EE6677&#39;, &#39;#228833&#39;, &#39;#4477AA&#39;, &#39;#CCBB44&#39;, &#39;#66CCEE&#39;, &#39;#AA3377&#39;, &#39;#BBBBBB&#39;)

Tol_muted &lt;- c(&#39;#88CCEE&#39;, &#39;#44AA99&#39;, &#39;#117733&#39;, &#39;#332288&#39;, &#39;#DDCC77&#39;, &#39;#999933&#39;,&#39;#CC6677&#39;, &#39;#882255&#39;, &#39;#AA4499&#39;, &#39;#DDDDDD&#39;)

Tol_light &lt;- c(&#39;#BBCC33&#39;, &#39;#AAAA00&#39;, &#39;#77AADD&#39;, &#39;#EE8866&#39;, &#39;#EEDD88&#39;, &#39;#FFAABB&#39;, &#39;#99DDFF&#39;, &#39;#44BB99&#39;, &#39;#DDDDDD&#39;)

#From Color Universal Design (CUD): https://jfly.uni-koeln.de/color/
Okabe_Ito &lt;- c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;, &quot;#D55E00&quot;, &quot;#CC79A7&quot;, &quot;#000000&quot;)

# format death time series data set as we want to
death_ts &lt;- death_ts %&gt;%
  janitor::clean_names() %&gt;%
  rename(deaths_num = deaths_cause_all_causes_risk_household_air_pollution_from_solid_fuels_sex_both_age_all_ages_number_4,
         year = year_3) %&gt;%
  mutate(region = countrycode::countrycode(code, &quot;iso3c&quot;, &quot;region&quot;))

#death_area &lt;- 
death_ts %&gt;%
  group_by(region, year) %&gt;%
  summarise(deaths_sum = sum(deaths_num, na.rm = TRUE)) %&gt;%
  mutate(continent = as_factor(region)) %&gt;%
  na.omit() %&gt;%
  ggplot() +
  aes(x = year, y = deaths_sum, group = fct_reorder(region, deaths_sum), fill = region) +
  geom_area(alpha = 0.9) +
  labs(title = &quot;Total Deaths Due to Household Air Pollution by Region&quot;,
       subtitle = &quot;Regions as defined by World Bank Development Indicators&quot;,
       caption = &quot;Source: https://ourworldindata.org/&quot;) +
  scale_fill_manual(values = c( &#39;#332288&#39;, &#39;#999933&#39;,&#39;#CC6677&#39;, &#39;#AA4499&#39;,&#39;#88CCEE&#39;, &#39;#117733&#39;, &#39;#DDCC77&#39;)) +
  theme(plot.title = element_text(size = 16, family = font_plot, colour = &quot;#353535&quot;),
        plot.subtitle = element_text(size = 12, family = font_plot, colour = &quot;#353535&quot;),
        legend.position = &quot;none&quot;,
        legend.background=element_blank(),
        panel.background = element_blank(),
        panel.grid.major = element_blank(),
        panel.grid.minor = element_blank(),
        #panel.grid.major.y = element_line(colour = &quot;lightgrey&quot;, size = 0.2),
        axis.title.x = element_blank(),
        axis.title.y = element_blank(),
        #axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1),
        #axis.text.y = element_blank(),
        #axis.ticks.x = element_blank(),
        #axis.ticks.y = element_blank(),
        plot.background = element_rect(fill = &quot;#EFF3F3&quot;),
        #plot.margin = unit(c(0, 1, 0, 1), &quot;cm&quot;)
        ) +
  xlim(c(1990,2025)) +
  ylim(c(0, 8000000)) +
  scale_y_continuous(labels = scales::unit_format(unit = &quot;M&quot;, scale = 1e-6)) +
  annotate(&#39;segment&#39;, x = 2019.3, xend = 2020.2, y = 400000, yend = 400000, size = 0.3, color = &#39;#117733&#39;) +
  annotate(&#39;text&#39;, x = 2020.5, y = 400000, label = &quot;South Asia&quot;, color = &#39;#117733&#39;, size = 3, hjust = 0) +
  annotate(&#39;segment&#39;, x = 2019.3, xend = 2020.2, y = 1100000, yend = 1100000, size = 0.3, color = &#39;#332288&#39;) +
  annotate(&#39;text&#39;, x = 2020.5, y = 1100000, label = &quot;E. Asia &amp; Pacific&quot;, color = &#39;#332288&#39;, size = 3, hjust = 0) +
  annotate(&#39;segment&#39;, x = 2019.3, xend = 2020.2, y = 1700000, yend = 1700000, size = 0.3, color =&#39;#DDCC77&#39;) +
  annotate(&#39;text&#39;, x = 2020.5, y = 1700000, label = &quot;Sub-Saharan \nAfrica&quot;, color =  &#39;#C9BA6E&#39;, size = 3, hjust = 0) +
  annotate(&#39;segment&#39;, x = 2019.3, xend = 2020.2, y = 2250000, yend = 2300000, size = 0.3, color =&#39;#CC6677&#39;) +
  annotate(&#39;text&#39;, x = 2020.5, y = 2300000, label = &quot;Latin America &amp;\nCarribean&quot;, color = &#39;#CC6677&#39;, size = 3, hjust = 0) +
  annotate(&#39;segment&#39;, x = 2019.3, xend = 2020.2, y = 2300000, yend = 2700000, size = 0.3, color =&#39;#999933&#39;) +
  annotate(&#39;text&#39;, x = 2020.5, y = 2800000, label = &quot;Europe &amp;\nCentral Asia&quot;, color = &#39;#999933&#39;, size = 3, hjust = 0) +
  annotate(&#39;segment&#39;, x = 2019.17, xend = 2020.2, y = 2340000, yend = 3200000, size = 0.3, color =&#39;#882255&#39;) +
  annotate(&#39;text&#39;, x = 2020.5, y = 3300000, label = &quot;Middle East &amp;\nNorth Africa&quot;, color = &#39;#882255&#39;, size = 3, hjust = 0) +
  annotate(&#39;segment&#39;, x = 2019, xend = 2020.2, y = 2370000, yend = 3600000, size = 0.3, color =&#39;#88CCEE&#39;) +
  annotate(&#39;text&#39;, x = 2020.5, y = 3700000, label = &quot;North America&quot;, color = &#39;#7DBAD9&#39;, size = 3, hjust = 0)</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;region&#39;. You can override using the
## `.groups` argument.
## Scale for &#39;y&#39; is already present. Adding another scale for &#39;y&#39;, which will
## replace the existing scale.</code></pre>
<p><img src="/projects/bmi525_finalproj_files/figure-html/unnamed-chunk-9-1.png" width="1152" style="display: block; margin: auto;" /></p>
<pre class="r"><code># death_area</code></pre>
</div>
<div id="access-to-clean-fuel" class="section level1">
<h1>Access to clean fuel</h1>
<pre class="r"><code># cut data
fuel_gdp &lt;- fuel_gdp %&gt;%
  janitor::clean_names() %&gt;%
  rename(access = access_to_clean_fuels_and_technologies_for_cooking_percent_of_population,
         gdp = gdp_per_capita_ppp_constant_2017_international)

fuel_gdp &lt;- fuel_gdp %&gt;%
  mutate(q.ref = case_when(access &lt;= 10 ~ &quot;0-10&quot;,
                           access &gt; 10 &amp; access &lt;= 20 ~ &quot;10-20&quot;,
                           access &gt; 20 &amp; access &lt;= 30 ~ &quot;20-30&quot;,
                           access &gt; 30 &amp; access &lt;= 40 ~ &quot;30-40&quot;,
                           access &gt; 40 &amp; access &lt;= 50 ~ &quot;40-50&quot;,
                           access &gt; 50 &amp; access &lt;= 60 ~ &quot;50-60&quot;,
                           access &gt; 60 &amp; access &lt;= 70 ~ &quot;60-70&quot;,
                           access &gt; 70 &amp; access &lt;= 80 ~ &quot;70-80&quot;,
                           access &gt; 80 &amp; access &lt;= 90 ~ &quot;80-90&quot;,
                           access &gt; 90 ~ &quot;90-100&quot;,
                           TRUE ~ &quot;No Data&quot;),
         q.ref = factor(q.ref,
                        levels = c(&quot;0-10&quot;, &quot;10-20&quot;, &quot;20-30&quot;, &quot;30-40&quot;, &quot;40-50&quot;, &quot;50-60&quot;, &quot;60-70&quot;, &quot;70-80&quot;, &quot;80-90&quot;, &quot;90-100&quot;, &quot;No Data&quot;)),
         continent = countrycode::countrycode(code, &quot;iso3c&quot;, &quot;continent&quot;)) </code></pre>
<pre><code>## Warning in countrycode_convert(sourcevar = sourcevar, origin = origin, destination = dest, : Some values were not matched unambiguously: ANT, ATA, ATF, BVT, CCK, HMD, IOT, OWID_ABK, OWID_AKD, OWID_AUH, OWID_BAD, OWID_BAV, OWID_CIS, OWID_CYN, OWID_CZS, OWID_ERE, OWID_GDR, OWID_GFR, OWID_HAN, OWID_HSE, OWID_HSG, OWID_KOS, OWID_KRU, OWID_MEC, OWID_MOD, OWID_NAG, OWID_PMA, OWID_RVN, OWID_SAX, OWID_SEK, OWID_SIC, OWID_SML, OWID_SOS, OWID_SRM, OWID_TRS, OWID_TUS, OWID_USS, OWID_WRL, OWID_WRT, OWID_YAR, OWID_YGS, OWID_YPR, OWID_ZAN, SGS, UMI</code></pre>
<pre class="r"><code># merge world datasets
fuel_gdp_2 &lt;- fuel_gdp %&gt;%
  filter(is.na(access) == FALSE) %&gt;%
  dplyr::select(entity, code, year, access, q.ref) %&gt;%
  pivot_wider(names_from = year, values_from = c(access, q.ref)) %&gt;%
  left_join(world, by = c(&quot;entity&quot; = &quot;region&quot;))

fuel_gdp_world &lt;- fuel_gdp_2 %&gt;%
  dplyr::select(entity, code, access_2000:access_2016, long, lat) %&gt;%
  pivot_longer(cols = c(access_2000:access_2016),
               names_to = c(&#39;.value&#39;, &#39;year&#39;),
               names_pattern = &#39;(.*)_(\\w+)&#39;) %&gt;%
  rename(pct = access) %&gt;%
  mutate(year = as.numeric(year))</code></pre>
<pre class="r"><code>library(viridis)</code></pre>
<pre><code>## Loading required package: viridisLite</code></pre>
<pre><code>## 
## Attaching package: &#39;viridis&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:maps&#39;:
## 
##     unemp</code></pre>
<pre class="r"><code>#plots

fuel_plot &lt;- fuel_gdp_world %&gt;%
  filter(year == 2000|year == 2005| year == 2010| year == 2016) %&gt;%
  ggplot() +
  geom_map(data = world, map = world,
           aes(long, lat, group = group, map_id = region)) +
  geom_map(map = world,
           aes(fill = pct, map_id = entity),
           color = &quot;black&quot;, size = 0.15, alpha = .8) +
  facet_wrap(~year) +
  labs(title = &quot;Percent of Population with Access to Clean Cooking Fuels&quot;,
       caption = &quot;Source: https://ourworldindata.org/&quot;) +
  #coord_map(&quot;stereographic&quot;) +
  theme(plot.title = element_text(size = 20, family = font_plot),
        plot.subtitle = element_text(size = 14, family = font_plot),
        legend.position = &quot;bottom&quot;,
        legend.background=element_blank(),
        legend.title = element_blank(),
        panel.background = element_blank(),
        panel.grid.major = element_blank(),
        panel.grid.minor = element_blank(),
        axis.title.x = element_blank(),
        axis.title.y = element_blank(),
        axis.text.x = element_blank(),
        axis.text.y = element_blank(),
        axis.ticks.x = element_blank(),
        axis.ticks.y = element_blank(),
        strip.text = element_text(size = 20, family = font_plot, hjust = 0.1),
        strip.background = element_blank(),
        plot.background = element_rect(fill = &quot;#EFF3F3&quot;)) +
  scale_fill_viridis(direction = -1,
                     alpha = 0.9)</code></pre>
<pre><code>## Warning: Ignoring unknown aesthetics: x, y</code></pre>
<pre class="r"><code>  # scale_fill_gradient2(low = &quot;darkred&quot;,
  #                      mid = &quot;lightgoldenrod&quot;,
  #                     high = &quot;darkblue&quot;,
  #                     midpoint = 10,
  #                     na.value = &quot;#C8C8C8&quot;) 
# +
#   guides(fill = guide_legend(
#     title=&quot;Percent Access&quot;,
#     title.position = &quot;top&quot;,
#     label.position = &quot;bottom&quot;,
#     nrow = 1,
#     family = font_plot,
#     color = &quot;black&quot;,
#     keywidth = 5, keyheight = 0.5
#     )
#     )


fuel_plot</code></pre>
<p><img src="/projects/bmi525_finalproj_files/figure-html/unnamed-chunk-11-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>


            </div>
        </div>
    </div>
</div>



<div class="footer column">
    <div class="container">

        

        

        <div class="copyright">

        

        </div>
        <div class="icons">

        

        

        

        

        

        

        
            <a href="https://github.com/samcallis" rel=me target="_blank">
                <img class="icon" src="/img/github.svg" alt="github" />
            </a>
        

        

        
            <a href="https://www.linkedin.com/in/sam-callis-b88538158/" rel=me target="_blank">
                <img class="icon" src="/img/linkedin.svg" alt="linkedin" />
            </a>
        

        

        

        
            <a href="mailto:samueljcallis@gmail.com">
                <img class="icon" src="/img/email.svg" alt="email" />
            </a>
        

        </div>
    </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Raleway:400,600,700', 'Merriweather:300,300i,700,700i', 'Ubuntu+Mono:400,700']
    }
  });
</script>



  <script src="/js/highlight.min.js" defer></script>
  



  <script src="/js/progressively.min.js" defer></script>



  <script src="/js/social-share-kit.min.js" defer></script>






<script>
  window.onload = function() {
    
      hljs.initHighlighting();
    
    
      progressively.init({delay: 30, throttle: 50});
    
    
      SocialShareKit.init({
        twitter: {
            text: '',
            
        }
      });
    
  };
</script>




</body>
</html>

